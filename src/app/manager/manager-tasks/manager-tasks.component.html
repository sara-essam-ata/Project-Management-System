<section>
  <div class="page-header shadow-sm">
    <h3>Tasks</h3>
    <button routerLink="/dashboard/manager/tasks/add" class="primary px-3">
      <span class="fa-solid fa-plus mx-2"></span>
      <span>Add New Task</span>
    </button>
  </div>
  <div class="table-card container py-5">
    <div class="bg-whiteColor p-3 d-flex">
      <input
        [(ngModel)]="searchValue"
        (keyup.enter)="getMyTasks()"
        type="text"
        class="form-control rounded-pill w-25"
        placeholder="Search Here"
        aria-label="search"
        aria-describedby="basic-addon1"
      />
      <div>
        <button
          mat-icon-button
          [matMenuTriggerFor]="menu"
          aria-label="Example icon-button with a menu"
        >
          <mat-icon>list</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item>
            <mat-icon>title</mat-icon> <span>Title</span>
          </button>
          <button mat-menu-item>
            <mat-icon>schedule</mat-icon> <span>Date</span>
          </button>
        </mat-menu>
      </div>
    </div>
    <table class="table table-striped custom-table">
      <thead>
        <th>Title</th>
        <th>status</th>
        <th>user name</th>
        <th>project</th>
        <th>Date Created</th>
        <th>Actions</th>
      </thead>
      <tbody>
        <tr *ngFor="let item of listTasks">
          <td>{{ item.title }}</td>
          <td>
            <span
              class="status"
              [ngClass]="{
                ToDo: item.status == 'ToDo',
                InProgress: item.status == 'InProgress',
                Done: item.status == 'Done'
              }"
            >
              {{ item.status }}
            </span>
          </td>
          <td>{{ item.employee.userName }}</td>
          <td>{{ item.project.title }}</td>
          <td>{{ item.creationDate | date : "dd-MM-yyyy" }}</td>
          <td>
            <button
              mat-icon-button
              [matMenuTriggerFor]="menu"
              aria-label="Example icon-button with a menu"
            >
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button
                mat-menu-item
                [routerLink]="['/dashboard/manager/tasks/view', item.id]"
              >
                <mat-icon>visibility</mat-icon>
                <span>View</span>
              </button>
              <button
                mat-menu-item
                [routerLink]="['/dashboard/manager/tasks/edit', item.id]"
              >
                <mat-icon>edit-square</mat-icon>
                <span>Edit</span>
              </button>
              <button mat-menu-item>
                <mat-icon>delete</mat-icon>
                <span>Delete</span>
              </button>
            </mat-menu>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
